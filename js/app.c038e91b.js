(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"06a5":function(e,t,r){},"13c6":function(e,t,r){e.exports=r.p+"img/sawtooth.827dada9.svg"},1812:function(e,t,r){},"1d34":function(e,t,r){},"1f5b":function(e,t,r){"use strict";var n=r("1d34"),i=r.n(n);i.a},"275f":function(e,t,r){"use strict";var n=r("b2df"),i=r.n(n);i.a},"2a62":function(e,t,r){"use strict";var n=r("a7e5"),i=r.n(n);i.a},"2e66":function(e,t,r){},3799:function(e,t,r){},4333:function(e,t,r){"use strict";var n=r("5bdb"),i=r.n(n);i.a},4954:function(e,t,r){"use strict";var n=r("8ac3"),i=r.n(n);i.a},"51c1":function(e,t,r){"use strict";var n=r("ef9d"),i=r.n(n);i.a},"56ca":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"hagrid"}},[e.modalOpen?r("Modal",{on:{modalEmit:e.modalEventHandler}}):e._e(),r("SecretModal",{on:{changeGridSize:e.changeGridSize}}),r("div",{staticClass:"tv-wrapper"},[e._m(0),r("div",{staticClass:"tv"},[r("div",{staticClass:"tv__top-mobile"},[r("IconPlay",{staticClass:"tv__large-button",on:{clicked:e.play}}),r("IconInfo",{staticClass:"tv__large-button",on:{clicked:e.openModal}})],1),r("div",{staticClass:"tv__left"},[r("IconInfo",{staticClass:"tv__large-button",on:{clicked:e.openModal}}),r("div",{staticClass:"tv__buttons"},e._l(e.waves,(function(t,n){return r("div",{key:n,on:{click:function(r){return e.changeWave(t)}}},[r("div",[r("WaveComponent",{attrs:{waveForm:t,alt:"waveform select button",selectedWaveForm:e.selectedWaveform==t},on:{click:function(r){return e.changeWave(t)}}})],1)])})),0)],1),r("div",{staticClass:"tv__middle"},[r("GridLayout",{ref:"gridLayout",attrs:{styling:e.styling},on:{clickedSquare:e.playNote}})],1),r("div",{staticClass:"tv__right"},[r("IconPlay",{staticClass:"tv__large-button",on:{clicked:e.play}}),r("div",{staticClass:"sliderContainer"},[r("Slider",{attrs:{type:"bpm",maxValue:250,minValue:50},on:{changedValue:e.changedSliderValue}}),r("Slider",{attrs:{type:"reverb",maxValue:1,minValue:0},on:{changedValue:e.changedSliderValue}})],1)],1),e.overlayVisible?r("Overlay",{on:{closeOverlay:e.closeOverlay}}):e._e()],1),e._m(1)])],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"header__empty"}),n("div",{staticClass:"header__center"},[n("h1",{staticClass:"header__h1"},[e._v("Hagrid")]),n("p",{staticClass:"header__sub"},[e._v("grid sequencer")])]),n("img",{staticClass:"header__leaf",attrs:{src:r("7a52"),alt:"leaf"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("p",{staticClass:"footer__signature"},[e._v("made by Andreas GranÃ©r")])])}],o=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("38cf"),r("159b"),r("ade3")),s=(r("96cf"),r("1da1")),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal"},[r("Menu",{on:{menuEmit:e.modalEmit}})],1)},l=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"menu"},[e.inputOption?r("InputOptions",e._b({attrs:{inputOption:e.inputOption,initialValues:e.fields[e.inputOption],inputType:e.inputType},on:{back:function(t){e.inputOption=!1},changeArpeggio:e.changeArpeggio}},"InputOptions",e.fields,!1)):e._e(),e._l(e.pickedMenuOption,(function(t,n){return r("div",{key:n,staticClass:"menu__option",on:{click:function(r){return e.choosenMenuOption(t)}}},[e._v(e._s(t))])})),r("div",{staticClass:"menu__option",on:{click:function(t){return e.choosenMenuOption("back")}}},[e._v("back")])],2)])},d=[],f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-options input-options__option"},[r("SliderContainer",{on:{back:function(t){return e.$emit("back")}}},e._l(Object.keys(e.values),(function(t,n){return r("div",{key:n,attrs:{slot:"sliderSlot"},slot:"sliderSlot"},["slider"===e.inputType?r("Slider",{attrs:{type:t,initialValue:e.values[t],maxValue:e.gridMaxValue,minValue:2,integer:!0},on:{changedValue:e.changedSliderValue}}):"textInput"===e.inputType?r("div",{staticClass:"input-options__input-wrapper"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.values.arpeggio,expression:"values.arpeggio"}],staticClass:"input-options__text-input",domProps:{value:e.values.arpeggio},on:{keypress:e.handleInput,input:function(t){t.target.composing||e.$set(e.values,"arpeggio",t.target.value)}}}),r("p",[e._v("write intervals in semitones")]),r("span",{on:{click:e.changeArpeggio}},[e._v("ok")])]):e._e()],1)})),0)],1)},p=[],g=(r("d81d"),r("a9e3"),r("d3b7"),r("ac1f"),r("1276"),r("ddb0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"slider-wrapper"},[r("div",{ref:"slider",staticClass:"slider",on:{mouseleave:function(t){e.clicked=!1},mousedown:e.mouseHandler,mouseup:function(t){e.clicked=!1},mousemove:e.mouseHandler,touchstart:function(t){e.clicked=!0},touchmove:e.mouseHandler,touchend:function(t){e.clicked=!1},touchcancel:function(t){e.clicked=!1}}},[r("div",{staticClass:"slider__track"}),r("div",{staticClass:"slider__knob",style:e.knobPosition})]),r("span",{staticClass:"slider-wrapper__type"},[e._v(" "+e._s(e.type)+" "),r("span",{staticClass:"slider-wrapper__value"},[e._v(e._s(e.customSlideValue))])])])}),h=[],v={name:"sliders",data:function(){return{slideValue:50,clicked:!1}},props:{type:{type:String,default:""},maxValue:{type:Number,default:100},minValue:{type:Number,default:100},initialValue:{type:Number,default:0},integer:{type:Boolean,default:!1}},created:function(){this.initialValue&&(this.slideValue=this.valueToSlide(this.initialValue))},methods:{mouseHandler:function(e){if("mousedown"===e.type&&(this.clicked=!0),this.clicked){var t=this.$refs.slider.getBoundingClientRect(),r=t.top,n=t.bottom,i=e.clientY?e.clientY:e.touches[0].clientY,a=n-r,o=i-r,s=o/a*100;s<0&&(s=0),s>100&&(s=100),this.slideValue=s,this.$emit("changedValue",{val:this.customSlideValue,type:this.type})}},valueToSlide:function(e){var t=this.maxValue,r=e-(this.minValue-1),n=r/t,i=this.integer?Math.round(100*n):100*n;return 100-i}},computed:{knobPosition:function(){var e=this.slideValueToInteger<100?this.slideValueToInteger:100;return{bottom:"".concat(e,"%")}},slideValueToInteger:function(){return 100-Math.round(this.slideValue)},customSlideValue:function(){var e=this.maxValue,t=this.minValue,r=e-t,n=r/100,i=n*this.slideValueToInteger+t,a=Math.round(10*i)/10;return this.integer?Math.round(a):a}}},m=v,y=(r("ba82"),r("2877")),b=Object(y["a"])(m,g,h,!1,null,null,null),w=b.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"slider-container"},[r("div",{staticClass:"slot-container"},[e._t("sliderSlot")],2),r("div",{staticClass:"btn-wrapper"},[r("span",{on:{click:function(t){return e.$emit("back")}}},[e._v("back")])])])},O=[],k={name:"SliderContainer"},C=k,x=(r("2a62"),Object(y["a"])(C,_,O,!1,null,null,null)),P=x.exports,S=function(e,t,r){var n=[],i=0;if(t){for(var a=0;a<=t.x;a++){var o=j(i,e,t,r,a);n.push(o);var s=parseInt(e[a%e.length],10);i+=s}return n}},j=function(e,t,r,n,i){var a=[],o=e,s=i;if("symetric"===n)for(var c=0;c<=r.y;c++){a.push(A(o));var l=parseInt(t[c%t.length],10);o+=l}if("diatonic"===n)for(var u=0;u<=r.y;u++){a.push(A(o));var d=parseInt(t[s%t.length],10);o+=d,s++}return a},A=function(e){return 55*Math.pow(2,e/12)},D=r("2f62");function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M={name:"inputOptions",components:{Slider:w,SliderContainer:P},data:function(){return{values:this.initialValues}},props:{choosenField:{type:Array,default:function(){return[]}},inputOption:{type:String,default:""},initialValues:{type:Object,default:function(){}},fields:{type:Object,default:function(){}},inputType:{type:String,default:""}},methods:{changedSliderValue:function(e){var t=e.val,r=e.type;this.values[r]=t,this.$store.dispatch("setPlayingDiv",!1);var n=S(this.arpeggio,this.gridSize,this.angle);this.$store.dispatch("createAllArpeggios",n)},changeArpeggio:function(){var e=this.values.arpeggio.split("").map((function(e){return Number(e)}));this.$emit("changeArpeggio",e)},handleInput:function(e){var t=e.charCode;(t<48||t>57)&&0!==t&&e.preventDefault()}},computed:V({},Object(D["b"])(["angle"]),{gridSize:function(){return this.$store.getters.getGridSize},arpeggio:function(){return this.$store.getters.getArpeggio},gridMaxValue:function(){return this.$store.state.gridSize.maxValue}})},E=M,z=(r("a25d"),Object(y["a"])(E,f,p,!1,null,"2ad29244",null)),R=z.exports,I=["major7","minor7","custom"],T={major7:[4,3,4,1],minor7:[3,4,3,2]},F={name:"Menu",data:function(){return{fields:{gridsize:{x:"",y:""},custom:{arpeggio:""}},menuOptions:{themes:["classic","80s"],arpeggio:I,angle:["diatonic","symetric"]},menuTree:[],pickedMenuOption:["gridsize","arpeggio","angle"],chooseGridSize:!1,inputOption:""}},mounted:function(){this.fields.gridsize=this.$store.getters.getGridSize},components:{InputOptions:R},methods:{eventEmitter:function(e){this.$emit("menuEmit",e)},choosenMenuOption:function(e){if("back"==e)return this.chooseGridSize=!1,void(this.menuTree.length?this.pickedMenuOption=this.menuTree.pop():this.eventEmitter("closeModal"));"gridsize"!==e&&"custom"!==e?("diatonic"!==e&&"symetric"!==e||(this.eventEmitter("closeModal"),this.$store.dispatch("changeAngle",e),this.eventEmitter("createAllArs")),"minor7"!=e&&"major7"!=e||this.changeArpeggio(T[e]),this.menuTree.push(this.pickedMenuOption),this.pickedMenuOption=this.menuOptions[e]):this.inputOption=e},changeArpeggio:function(e){this.$store.dispatch("changeArpeggio",e),this.eventEmitter("createAllArs"),this.eventEmitter("closeModal")}},computed:{inputType:function(){var e;switch(this.inputOption){case"gridsize":e="slider";break;case"custom":e="textInput";break}return e}}},L=F,N=(r("cd3d"),Object(y["a"])(L,u,d,!1,null,"aa47ff8a",null)),H=N.exports,G={name:"Modal",data:function(){return{}},components:{Menu:H},methods:{modalEmit:function(e){this.$emit("modalEmit",e)}}},W=G,B=(r("51c1"),Object(y["a"])(W,c,l,!1,null,"f5145f08",null)),q=B.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-wrapper"},e._l(e.gridSize.y,(function(t){return r("div",{key:t,class:e.createRowClass(t)},e._l(e.gridSize.x,(function(n){return r("div",{key:n,ref:e.getRefFromCoordinates(n,t),refInFor:!0,class:e.createColClass(n),style:e.colorStyling(n,t),on:{mouseover:function(r){return e.mouseEventHandler(n,t)},click:function(r){return e.$emit("clickedSquare",{x:n,y:t})}}},[r("square",{attrs:{refForSquare:e.refForSquare(n,t),directionPickerOpen:e.isdirectionPickerOpen(n,t)},on:{openDirectionPicker:e.openDirectionPicker,closeDirectionPicker:e.closeDirectionPicker}})],1)})),0)})),0)},Y=[],J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"square",on:{mousedown:e.handleClick}},[e.directionPickerOpen?r("Direction-picker",{on:{directionSet:e.addArrowRef,removeArrowDiv:e.removeArrowDiv}}):e._e(),e.direction?r("div",{staticClass:"square__arrow-wrapper",on:{click:e.clickedOnArrow}},[r("div",{class:[e.whatDirection,e.hidden]})]):e._e()],1)},U=[],Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"direction-picker"},[r("div",{staticClass:"direction-picker__wrapper direction-picker__row--1 direction-picker__column--2",on:{mousedown:function(t){return e.setDirection("up")}}},[r("Triangle",{attrs:{borderSize:"12px"}})],1),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--2 direction-picker__column--1",on:{mousedown:function(t){return e.setDirection("left")}}},[r("Triangle",{attrs:{direction:"left",borderSize:"12px"}})],1),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--2 direction-picker__column--2",on:{mousedown:e.removeArrowDiv}}),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--2 direction-picker__column--3",on:{mousedown:function(t){return e.setDirection("right")}}},[r("Triangle",{attrs:{direction:"right",borderSize:"12px"}})],1),r("div",{staticClass:"direction-picker__wrapper direction-picker__row--3 direction-picker__column--2",on:{mousedown:function(t){return e.setDirection("down")}}},[r("Triangle",{attrs:{direction:"down",borderSize:"12px"}})],1)])},K=[],X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"triangle"},[r("div",{style:e.whatDirection}),e.headerText?r("h2",{staticClass:"triangle__text"},[e._v(e._s(e.headerText))]):e._e()])},ee=[],te={name:"Triangle",props:{direction:{type:String,default:"up"},borderSize:{type:String,default:"25px"},color:{type:String,default:"grey"},headerText:{type:String,default:""}},computed:{whatDirection:function(){var e,t=this.direction,r=["left","right"],n=["top","bottom"],i="",a=[];switch(t){case"right":i="left",a=n;break;case"left":i="right",a=n;break;case"up":i="bottom",a=r;break;case"down":i="top",a=r;break}var s="border-"+a[0],c="border-"+a[1],l="border-"+i;return e={width:0},Object(o["a"])(e,l," ".concat(this.borderSize," solid ").concat(this.color)),Object(o["a"])(e,s,"".concat(this.borderSize," solid transparent")),Object(o["a"])(e,c,"".concat(this.borderSize," solid transparent")),e}}},re=te,ne=(r("5fe9"),Object(y["a"])(re,X,ee,!1,null,"4c78a2e7",null)),ie=ne.exports,ae={name:"directionPicker",components:{Triangle:ie},methods:{setDirection:function(e){this.$emit("directionSet",e)},removeArrowDiv:function(){this.$emit("removeArrowDiv")}}},oe=ae,se=(r("7651"),Object(y["a"])(oe,Q,K,!1,null,"4f3a059d",null)),ce=se.exports,le={name:"Square",props:{refForSquare:{default:function(){},type:Object},directionPickerOpen:{default:!1,type:Boolean}},components:{DirectionPicker:ce},data:function(){return{direction:""}},methods:{handleClick:function(){this.openDirectionPicker()},openDirectionPicker:function(){if(this.directionPickerOpen)this.closeDirectionPicker();else{var e=this.refForSquare,t=e.x,r=e.y;this.$emit("openDirectionPicker",{x:t,y:r})}},addArrowRef:function(e){var t=this.refForSquare,r=t.x,n=t.y,i=t.refName,a={x:r,y:n,refName:i,direction:e};this.$store.dispatch("addArrowRef",a),this.direction=e},closeDirectionPicker:function(){this.$emit("closeDirectionPicker")},clickedOnArrow:function(){this.openDirectionPicker()},removeArrowDiv:function(){var e=this.refForSquare.refName;this.direction="",this.$store.dispatch("removeArrowRef",e)}},computed:{whatDirection:function(){var e,t=this.direction;switch(t){case"left":e="arrow-left";break;case"right":e="arrow-right";break;case"up":e="arrow-up";break;case"down":e="arrow-down";break;case"center":e="circle";break}return e},hidden:function(){return this.directionPickerOpen?"hidden":null}}},ue=le,de=(r("d652"),Object(y["a"])(ue,J,U,!1,null,null,null)),fe=de.exports;function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he={name:"GridLayout",components:{square:fe},data:function(){return{mousePos:{x:0,y:0},directionPickerOpen:{}}},props:{styling:{type:String,default:"classic"}},methods:{getRefFromCoordinates:function(e,t){return"r".concat(e,"-").concat(t)},refForSquare:function(e,t){var r=this.getRefFromCoordinates(e,t);return{x:e,y:t,refName:r}},addHighlight:function(e){var t=this.$refs[e];t&&t[0].classList.remove("highlight")},colorStyling:function(e,t){switch(this.styling){case"80s":return{background:this.colorCalcDifference(e,t),"box-shadow":"-5px -5px 10px ".concat(this.colorCalcDifference(t,e)," ")};case"classic":var r={background:this.colorCalcDifBoth(e,t)};return r}},isdirectionPickerOpen:function(e,t){return e==this.directionPickerOpen.x&&t==this.directionPickerOpen.y},openDirectionPicker:function(e){this.directionPickerOpen=e},mouseEventHandler:function(e,t){this.mousePos={x:e,y:t}},createRowClass:function(e){return"row row-".concat(e)},createColClass:function(e){return"col col-".concat(e)},colorCalcY:function(e){var t=e-(this.highlightPos.y-1),r=t<0?-1*t:t;return 18*r},colorCalcDifBoth:function(e,t){return this.isPlaying&e===this.colorCenter.x&t===this.colorCenter.y?"white":"rgb("+this.colorCalcDif(t,"y")+","+this.colorCalcDif(e,"x")+",250)"},colorCalcDif:function(e,t){var r=this.highlightPos[t],n=this.gridSize[t]-1,i=[e,r];i.sort((function(e,t){return t-e}));var a=i[0],o=i[1],s=a-o,c=s/n,l=250*c;return 250-l},colorCalcDifference:function(e,t){var r=[e,this.highlightPos.x],n=[t,this.highlightPos.y];r.sort((function(e,t){return t-e})),n.sort((function(e,t){return t-e}));var i=r[0]-r[1],a=18*i,o=n[0]-n[1],s=18*o,c=200-a,l=200-s;return"rgb("+l+","+c+",250)"},closeDirectionPicker:function(){this.directionPickerOpen={}}},computed:ge({},Object(D["b"])(["playingDiv","isPlaying"]),{colorCenter:function(){return this.playingDiv?this.playingDiv:{x:10,y:10,refName:"r10,10"}},highlightPos:function(){var e;switch(this.isPlaying){case!0:e=this.colorCenter;break;case!1:e=this.mousePos;break}return e},gridSize:function(){return this.$store.getters.getGridSize}})},ve=he,me=(r("5fb5"),Object(y["a"])(ve,Z,Y,!1,null,"7aaa0594",null)),ye=me.exports,be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"overlay",on:{click:e.closeOverlay}})},we=[],_e={name:"Overlay",methods:{closeOverlay:function(){this.$emit("closeOverlay")}}},Oe=_e,ke=(r("f170"),Object(y["a"])(Oe,be,we,!1,null,"d76acecc",null)),Ce=ke.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:"0 0 18 18","aria-labelledby":e.iconName,role:"presentation"}},[r("title",{attrs:{id:e.iconName,lang:"en"}},[e._v(e._s(e.iconName)+" icon")]),r("g",{attrs:{fill:e.iconColor}},[e._t("default")],2)])},Pe=[],Se={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:150},height:{type:[Number,String],default:150},iconColor:{type:String,default:"currentColor"}}},je=Se,Ae=Object(y["a"])(je,xe,Pe,!1,null,null,null),De=(Ae.exports,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wave"},[r(e.waveForm,{tag:"component",staticClass:"wave__btn",attrs:{selectedWaveForm:e.selectedWaveForm}})],1)}),$e=[],Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:{svg:!e.selectedWaveForm},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95",fill:e.fillColor}},[r("defs"),r("title",[e._v("sine")]),r("g",{attrs:{id:"Layer_13","data-name":"Layer 13"}},[r("path",{staticClass:"cls-1",attrs:{d:"M4.55,0H51.23C54,.64,55.66,2.21,56,4.74V51.13a5.77,5.77,0,0,1-5,4.82H5.45A6.25,6.25,0,0,1,0,50.89V5.07C.64,2.5,2,.7,4.55,0Z"}})]),r("g",{attrs:{id:"Layer_3","data-name":"Layer 3"}},[r("path",{staticClass:"cls-2",attrs:{d:"M9.72,26.64s7.32-15.15,13.8,0c9.27,21.71,23.41,3.28,22.4,0"}})])])},Me=[],Ee={name:"sine",props:{selectedWaveForm:{type:Boolean,default:!1}},computed:{fillColor:function(){return this.selectedWaveForm?"#d9d283":"#70b865"}}},ze=Ee,Re=(r("ec38"),Object(y["a"])(ze,Ve,Me,!1,null,"43e638a8",null)),Ie=Re.exports,Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:{svg:!e.selectedWaveForm},attrs:{id:"Layer_10","data-name":"Layer 10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95",fill:e.fillColor}},[r("defs"),r("title",[e._v("sawtooth")]),r("path",{staticClass:"cls-1",attrs:{d:"M4.55,0H51.23C54,.64,55.66,2.21,56,4.74V51.13a5.77,5.77,0,0,1-5,4.82H5.45A6.25,6.25,0,0,1,0,50.89V5.07C.64,2.5,2,.7,4.55,0Z"}}),r("polyline",{staticClass:"cls-2",attrs:{points:"46.05 27.98 33.24 33.81 33.24 21.88 10.11 33.81"}})])},Fe=[],Le={name:"sawtooth",props:{selectedWaveForm:{type:Boolean,default:!1}},computed:{fillColor:function(){return this.selectedWaveForm?"#d9d283":"#70b865"}}},Ne=Le,He=(r("1f5b"),Object(y["a"])(Ne,Te,Fe,!1,null,"ca06ffa2",null)),Ge=He.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:{svg:!e.selectedWaveForm},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95",fill:e.fillColor}},[r("defs"),r("title",[e._v("square")]),r("g",{attrs:{id:"Layer_11","data-name":"Layer 11"}},[r("path",{staticClass:"cls-1",attrs:{d:"M4.55,0H51.23C54,.64,55.66,2.21,56,4.74V51.13a5.77,5.77,0,0,1-5,4.82H5.45A6.25,6.25,0,0,1,0,50.89V5.07C.64,2.5,2,.7,4.55,0Z"}})]),r("g",{attrs:{id:"Layer_12","data-name":"Layer 12"}},[r("polyline",{staticClass:"cls-2",attrs:{points:"10.11 27.3 10.11 23.08 19.27 23.08 19.27 31.8 28.01 31.8 28.01 23.08 36.8 23.08 36.8 31.8 45.97 31.8 45.97 28.02"}})])])},Be=[],qe={name:"square",props:{selectedWaveForm:{type:Boolean,default:!1}},computed:{fillColor:function(){return this.selectedWaveForm?"#d9d283":"#70b865"}}},Ze=qe,Ye=(r("f8fc"),Object(y["a"])(Ze,We,Be,!1,null,"3347c1a8",null)),Je=Ye.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{class:{svg:!e.selectedWaveForm},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56.02 55.95",fill:e.fillColor}},[r("defs"),r("title",[e._v("triangle")]),r("g",{attrs:{id:"knapp2"}},[r("path",{staticClass:"cls-1",attrs:{d:"M4.55,50.84H51.23c2.81.64,4.43,2.21,4.79,4.74V102a5.77,5.77,0,0,1-5,4.82H5.45A6.25,6.25,0,0,1,0,101.73V55.91C.64,53.34,2,51.54,4.55,50.84Z",transform:"translate(0 -50.84)"}})]),r("g",{attrs:{id:"Layer_9","data-name":"Layer 9"}},[r("polyline",{staticClass:"cls-2",attrs:{points:"10.07 27.98 14.43 23.9 23.58 32.21 32.51 23.9 41.66 32.21 45.91 28.05"}})])])},Qe=[],Ke={name:"triangle",props:{selectedWaveForm:{type:Boolean,default:!1}},computed:{fillColor:function(){return this.selectedWaveForm?"#d9d283":"#70b865"}}},Xe=Ke,et=(r("275f"),Object(y["a"])(Xe,Ue,Qe,!1,null,"08e873d8",null)),tt=et.exports,rt={name:"WaveComponent",props:{waveForm:{type:String,default:"sine"},selectedWaveForm:{type:Boolean,default:!1}},components:{sine:Ie,sawtooth:Ge,square:Je,triangle:tt}},nt=rt,it=(r("4954"),Object(y["a"])(nt,De,$e,!1,null,null,null)),at=it.exports,ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"secretModal"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.x,expression:"x"}],attrs:{type:"text"},domProps:{value:e.x},on:{keydown:e.handleInput,input:function(t){t.target.composing||(e.x=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.y,expression:"y"}],attrs:{type:"text"},domProps:{value:e.y},on:{keydown:e.handleInput,input:function(t){t.target.composing||(e.y=t.target.value)}}}),r("span",{on:{click:e.changeGridSize}},[e._v("Okidokonkely")])])},st=[],ct={name:"secretModal",data:function(){return{x:"",y:""}},methods:{handleInput:function(e){var t=e.charCode;(t<48||t>57)&&0!==t&&e.preventDefault()},changeGridSize:function(){var e=this.x,t=this.y;this.$emit("changeGridSize",{x:Number(e),y:Number(t)})}}},lt=ct,ut=(r("4333"),Object(y["a"])(lt,ot,st,!1,null,null,null)),dt=ut.exports,ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper",on:{mouseover:function(t){e.mouseOver=!0},mouseleave:function(t){e.mouseOver=!1},click:e.handleClick}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32.12 32.01"}},[r("defs"),r("title",[e._v("kugghjul")]),r("g",{attrs:{id:"Layer_2","data-name":"Layer 2"}},[r("path",{staticClass:"cls-1",style:{fill:e.fillColor},attrs:{d:"M17.24,6.36H24l.11,3.49a9.2,9.2,0,0,1,3,1.19c0,.07,2.62-2.41,2.62-2.41l4.82,4.77L32,16a13.18,13.18,0,0,1,1.29,3h3.44l.09,6.8H33.32a10,10,0,0,1-1.32,3l2.46,2.46-4.8,4.79-2.43-2.32a16.28,16.28,0,0,1-3.15,1.45v3.16H17.24V35.2a16.26,16.26,0,0,1-3.17-1.28L11.8,36.08,7,31.27,9.08,29a16.4,16.4,0,0,1-1.26-3.25H4.66l0-6.84,3.26,0a16.92,16.92,0,0,1,1.18-3.14L7,13.48l4.75-4.79L14.1,11a9.55,9.55,0,0,1,3.18-1.29",transform:"translate(-4.66 -6.36)"}})]),r("g",{attrs:{id:"Layer_3","data-name":"Layer 3"}},[r("ellipse",{attrs:{cx:"16.06",cy:"16",rx:"11.87",ry:"11.54"}}),r("ellipse",{attrs:{cx:"16.06",cy:"16",rx:"11.87",ry:"11.54"}}),r("ellipse",{staticClass:"cls-1",style:{fill:e.fillColor},attrs:{cx:"16.06",cy:"16",rx:"10.72",ry:"10.42"}})]),r("g",{attrs:{id:"Layer_5","data-name":"Layer 5"}},[r("text",{staticClass:"cls-3",attrs:{transform:"translate(11.5 19.88)"}},[e._v("H")])])])])},pt=[],gt={name:"IconInfo",data:function(){return{mouseOver:!1}},computed:{fillColor:function(){return this.mouseOver?"rgb(141, 223, 232)":"#52bb59"}},methods:{handleClick:function(){this.$emit("clicked")}}},ht=gt,vt=(r("d3f9"),Object(y["a"])(ht,ft,pt,!1,null,null,null)),mt=vt.exports,yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper",on:{mouseover:e.mouseTouchHandler,mouseleave:e.mouseTouchHandler,touchstart:e.mouseTouchHandler,touchend:e.mouseTouchHandler,click:function(t){return e.$emit("clicked")}}},[e.isPlaying?r("svg",{attrs:{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26.48 26.48"}},[r("defs"),r("title",[e._v("stop")]),r("path",{staticClass:"cls-1",style:{fill:e.fillColor},attrs:{d:"M13.24,0A13.24,13.24,0,1,0,26.48,13.24,13.24,13.24,0,0,0,13.24,0Zm4.13,17.37H9.1V9.1h8.27Z"}})]):r("svg",{attrs:{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26.48 26.48"}},[r("defs"),r("title",[e._v("play")]),r("path",{staticClass:"cls-1",style:{fill:e.fillColor},attrs:{d:"M25.71,15.83A13.24,13.24,0,1,0,39,29.06,13.23,13.23,0,0,0,25.71,15.83ZM21.19,35.2s0-11.75,0-12.27l11.49,5.7Z",transform:"translate(-12.48 -15.83)"}})])])},bt=[];function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ot={name:"IconInfo",data:function(){return{mouseOver:!1}},methods:{mouseTouchHandler:function(e){if(this.isMobile)switch(e.type){case"touchstart":this.mouseOver=!0;break;case"touchend":this.mouseOver=!1;break}else switch(e.type){case"mouseover":this.mouseOver=!0;break;case"mouseleave":this.mouseOver=!1;break}}},computed:_t({},Object(D["b"])(["isPlaying","isMobile"]),{fillColor:function(){return this.mouseOver?"rgb(141, 223, 232)":"#52bb59"}})},kt=Ot,Ct=(r("adaa"),Object(y["a"])(kt,yt,bt,!1,null,null,null)),xt=Ct.exports,Pt=r("8cc4");function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At=new Pt["Reverb"]({decay:5,wet:.3,preDelay:.2}).toMaster(),Dt=new Pt["Filter"]({type:"bandpass",Q:120}).toMaster(),$t=new Pt["Synth"]({oscillator:{type:"sawtooth",modulationFrequency:.2},envelope:{attack:.02,decay:.1,sustain:.2,release:.2}}),Vt={name:"App",components:{GridLayout:ye,Slider:w,Modal:q,Overlay:Ce,IconInfo:mt,IconPlay:xt,WaveComponent:at,SecretModal:dt},created:function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);e&&(this.$store.commit("isMobile"),this.$store.dispatch("changeGridSize",{x:6,y:8}))},data:function(){return{styling:"classic",intervals:"",modalOpen:!1,waves:["sine","square","sawtooth","triangle"],bpm:150,selectedWaveform:"sawtooth"}},mounted:function(){function e(){return t.apply(this,arguments)}function t(){return t=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.generate();case 2:$t.connect(At),$t.connect(Dt);case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.createNewArpeggios(),e()},methods:{playNote:function(e){if(!this.isPlaying){var t=e.x,r=e.y,n=this.allArpeggios[t-1][r-1];$t.triggerAttackRelease(n,"8n")}},changeWave:function(e){$t.oscillator.type=e,this.selectedWaveform=e},changedSliderValue:function(e){var t=e.val,r=e.type;"bpm"===r&&(this.bpm=t,Pt["Transport"].bpm.value=t),"reverb"===r&&(At.wet.value=t)},changeGridSize:function(e){this.$store.dispatch("changeGridSize",e),this.createNewArpeggios()},waveImg:function(e){return r("cb6f")("./".concat(e,".svg"))},openModal:function(){this.modalOpen=!0},changeTheme:function(e){this.styling=e,this.modalOpen=!1},createNewArpeggios:function(){var e=S(this.arpeggio,this.gridSize,this.angle);this.$store.dispatch("createAllArpeggios",e)},closeOverlay:function(){this.modalOpen=!1},modalEventHandler:function(e){switch(e){case"closeModal":this.modalOpen=!1;break;case"createAllArs":this.createNewArpeggios();break}},play:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isPlaying){t.next=5;break}return Pt["Transport"].cancel(),e.$store.dispatch("changeIsPlayingState",!1),e.$store.dispatch("setPlayingDiv",null),t.abrupt("return");case 5:return t.next=7,e.$store.getters.getArrowRefs[0];case 7:if(r=t.sent,r){t.next=10;break}return t.abrupt("return");case 10:e.$store.dispatch("setPlayingDiv",r),e.$store.commit("changeIsPlayingState",!0),Pt["Transport"].scheduleRepeat(e.repeat,"16n"),Pt["Transport"].bpm.value=e.bpm,Pt["Transport"].start();case 15:case"end":return t.stop()}}),t)})))()},repeat:function(e){var t=this.playingDiv,r=t.x,n=t.y,i=t.refName,a=t.direction,o=this.$refs.gridLayout.$refs,s=o[i];if(s){s[0].classList.remove("highlight");var c=this.$store.getters.findArrowRef(i);c&&(a=c.direction);var l=this.allArpeggios[r-1][n-1];$t.triggerAttackRelease(l,"8n",e);var u=this.nextCoordinateBasedOnDirection(r,n,a),d=this.getRefFromCoordinates(u.x,u.y);this.$store.dispatch("setPlayingDiv",jt({},u,{refName:d}));var f=o[d];f&&f[0].classList.add("highlight")}else Pt["Transport"].cancel(),this.$store.commit("changeIsPlayingState",!1)},getRefFromCoordinates:function(e,t){return"r".concat(e,"-").concat(t)},nextCoordinateBasedOnDirection:function(e,t,r){switch(r){case"down":t+=1;break;case"right":e+=1;break;case"left":e-=1;break;case"up":t-=1;break}return{x:e,y:t,direction:r}}},computed:jt({},Object(D["b"])(["playingDiv","isPlaying","allArpeggios","angle"]),{gridSize:function(){return this.$store.getters.getGridSize},overlayVisible:function(){return this.modalOpen},arpeggio:function(){return this.$store.getters.getArpeggio},backgroundColors:function(){return this.$store.state.isPlaying?this.$store.state.backgroundColors:{background:"white"}}})},Mt=Vt,Et=(r("5c0b"),Object(y["a"])(Mt,i,a,!1,null,null,null)),zt=Et.exports,Rt=r("a18c"),It=r.n(Rt);r("c740"),r("a434");n["a"].use(D["a"]);var Tt=new D["a"].Store({state:{isPlaying:!1,playingDiv:null,backgroundColors:"",arrowRefs:[],direction:"",gridSize:{coordinates:{x:15,y:15},maxValue:25},arpeggio:[4,3,4,1],allArpeggios:[],isMobile:!1,angle:"symetric"},mutations:{changeIsPlayingState:function(e,t){e.isPlaying=t},changePlayingDiv:function(e,t){e.playingDiv=t},changeBackgroundColors:function(e,t){e.backgroundColors=t},addArrowRef:function(e,t){e.arrowRefs.push(t)},removeArrowRef:function(e,t){var r=this.getters.findArrowRefIndex(t);-1!==r&&e.arrowRefs.splice(r,1)},clearAllArrowRefs:function(e){e.arrowRefs=[]},changeDirectionOnArrowRef:function(e,t){var r=t.index,n=t.direction;e.arrowRefs[r].direction=n},setDirection:function(e,t){e.direction=t},setGridSize:function(e,t){e.isPlaying=!1,e.gridSize.coordinates=t},setArpeggio:function(e,t){e.arpeggio=t},isMobile:function(e){e.isMobile=!0},setGridMaxValue:function(e,t){e.gridSize.maxValue=t},setAllArpeggios:function(e,t){e.allArpeggios=t},setAngle:function(e,t){e.angle=t}},actions:{changeIsPlayingState:function(e,t){var r=e.commit;r("changeIsPlayingState",t)},setPlayingDiv:function(e,t){var r=e.commit;r("changePlayingDiv",t)},setBackgroundColors:function(e,t){var r=e.commit;r("changeBackgroundColors",t)},addArrowRef:function(e,t){var r=e.commit,n=e.getters,i=t.x,a=t.y,o=t.direction,s=t.refName,c=n.findArrowRefIndex(s);-1===c?r("addArrowRef",{x:i,y:a,refName:s,direction:o}):r("changeDirectionOnArrowRef",{index:c,direction:o})},removeArrowRef:function(e,t){var r=e.commit;r("removeArrowRef",t)},setDirection:function(e,t){var r=e.commit;r("setDirection",t)},changeGridSize:function(e,t){var r=e.commit;r("changeIsPlayingState",!1),r("setGridSize",t)},changeArpeggio:function(e,t){var r=e.commit;r("setArpeggio",t)},changeGridMaxValue:function(e,t){var r=e.commit;r("setGridMaxValue",Number(t))},createAllArpeggios:function(e,t){var r=e.commit;r("setAllArpeggios",t)},changeAngle:function(e,t){var r=e.commit;r("setAngle",t)}},getters:{findArrowRefIndex:function(e){return function(t){var r=e.arrowRefs.findIndex((function(e){return e.refName==t}));return r}},findArrowRef:function(e){return function(t){var r=e.arrowRefs.filter((function(e){return e.refName==t}));return r[0]}},getArrowRefs:function(e){return e.arrowRefs},getPlayingDiv:function(e){return e.playingDiv},getGridSize:function(e){return e.gridSize.coordinates},getArpeggio:function(e){return e.arpeggio}},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:It.a,store:Tt,render:function(e){return e(zt)}}).$mount("#app")},"5bdb":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),i=r.n(n);i.a},"5fb5":function(e,t,r){"use strict";var n=r("ba75"),i=r.n(n);i.a},"5fe9":function(e,t,r){"use strict";var n=r("d57a"),i=r.n(n);i.a},6352:function(e,t,r){},7075:function(e,t,r){},7344:function(e,t,r){},7651:function(e,t,r){"use strict";var n=r("3799"),i=r.n(n);i.a},"7a52":function(e,t,r){e.exports=r.p+"img/blad.2111de14.svg"},"833e":function(e,t,r){e.exports=r.p+"img/sine.1047e7ca.svg"},"8ac3":function(e,t,r){},"9c0c":function(e,t,r){},a18c:function(e,t){},a25d:function(e,t,r){"use strict";var n=r("2e66"),i=r.n(n);i.a},a7e5:function(e,t,r){},adaa:function(e,t,r){"use strict";var n=r("56ca"),i=r.n(n);i.a},b2df:function(e,t,r){},ba75:function(e,t,r){},ba82:function(e,t,r){"use strict";var n=r("7344"),i=r.n(n);i.a},cb6f:function(e,t,r){var n={"./sawtooth.svg":"13c6","./sine.svg":"833e","./square.svg":"fafa","./triangle.svg":"d589"};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id="cb6f"},ccf8:function(e,t,r){},cd3d:function(e,t,r){"use strict";var n=r("d64d"),i=r.n(n);i.a},d3f9:function(e,t,r){"use strict";var n=r("7075"),i=r.n(n);i.a},d57a:function(e,t,r){},d589:function(e,t,r){e.exports=r.p+"img/triangle.a32e3700.svg"},d64d:function(e,t,r){},d652:function(e,t,r){"use strict";var n=r("ccf8"),i=r.n(n);i.a},ec38:function(e,t,r){"use strict";var n=r("1812"),i=r.n(n);i.a},ef9d:function(e,t,r){},f170:function(e,t,r){"use strict";var n=r("6352"),i=r.n(n);i.a},f8fc:function(e,t,r){"use strict";var n=r("06a5"),i=r.n(n);i.a},fafa:function(e,t,r){e.exports=r.p+"img/square.64a14994.svg"}});
//# sourceMappingURL=app.c038e91b.js.map